@use "../utils/variables" as *;
@use "../utils/mixins" as *;

/* Location - OMBRE VISIBLE */
.location {
  background: #eaeaea;
  padding: 15px 0;
  position: relative;
  z-index: 10;  /* ← Plus haut que hero */
  box-shadow: 0 5px 5px rgba(0, 0, 0, 0.25);
}

.location__bar {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 17px;
  font-size: 16px;
}

.location i { 
  font-size: 16px; 
  color: #353535;
}

.location__city { 
  color: $text-dark; 
  font-weight: 500;
}

/* Hero */
.hero {
  text-align: center;
  background: $bg-soft;
  padding: 28px 0 65px;
  position: relative;
  z-index: 1;
}
.hero__content { max-width: 540px; text-align: center; @include container; }
.hero__title { margin-bottom: 10px; font-size: 24px; line-height: 1.25; }
.hero__subtitle { margin-bottom: 16px; }
.hero .btn { transform: translateZ(0); }

/* Fonctionnement */
.functioning { padding: 45px 0 24px; }
.functioning .container { @include container; }
.functioning .section-title { margin-bottom: 12px; }

.functioning__list {
  display: grid;
  grid-template-columns: 1fr;
  gap: 20px;
  margin-top: 30px;
  margin-left: 10px;
  margin-bottom: 55px;
}

.functioning__step {
  @include card;
  overflow: visible;            // important pour laisser dépasser la bulle
  position: relative;
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  column-gap: 12px;
  border-radius: 20px;                           // moins rond
  padding: 24px 18px;
  box-shadow: 10px 10px 20px rgba(0,0,0,.10);        // ombre plus proche
  min-height: 64px;                              // hauteur visuelle
  background: $bg-soft;
  font-size: large;
}

.functioning__number {
  position: absolute;
  left: -18px;                  // sort à gauche
  top: 50%;
  translate: 0 -50%;
  width: 23px;
  height: 23px;
  border-radius: 50%;           // parfaitement ronde
  background: $primary;
  color: #fff;
  display: grid;
  place-items: center;
  font-size: 12px;
  font-weight: 700;
}

.functioning__step i { color: $text-muted; }
.functioning__label   { color: $text-dark; }


/* Restaurants */
.restaurants { background: $bg-soft; padding: 28px 0; }
.restaurants .container { margin-bottom: 40px; @include container;}

/* ========================================
   RESPONSIVE DESKTOP (1024px+)
======================================== */

@media (min-width: $bp-desktop) {

  /*  Location  */

  .location {
    box-shadow: none;
  }

  /* Hero - Titre plus gros, margin réduit */
  .hero {
    padding: 40px 0 50px;  /* Réduit le padding bas */
  }

  .hero__title {
    font-size: 40px;        /* Beaucoup plus gros */
    margin-bottom: 18px;    /* Margin réduit */
    line-height: 1.2;
  }

  .hero__subtitle {
    font-size: 18px;
    margin-bottom: 18px;    /* Margin réduit aussi */
  }

  /* Fonctionnement - 3 colonnes horizontales */
  .functioning {
    padding: 50px 0 40px;
  }

  .functioning__list {
    grid-template-columns: repeat(3, 1fr);
    gap: 25px;
    margin-left: 0;
    margin-bottom: 50px;
  }

  .functioning__step {
    padding: 28px 20px;
  }

  /* Restaurants - Grille 2x2 */
  .restaurants {
    padding: 30px 0 30px 0px;
  }

  .restaurants__grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);  /* 2 colonnes */
    gap: 50px;                               /* Espacement entre cartes */
  }

  /* Fonctionnement - 3 colonnes avec plus d'espace */
  .functioning {
    padding: 50px 0 40px;
  }

  .functioning__list {
    grid-template-columns: repeat(3, 1fr);
    gap: 40px;              /* Plus d'espace entre les cartes */
    margin-left: 0;
    margin-bottom: 50px;
  }

  .functioning__step {
    padding: 28px 25px;
    position: relative;
  }

  

  /* La capsule */
  .functioning__step {
    position: relative;         /* nécessaire pour ancrer la pastille */
    overflow: visible;          /* laisse dépasser la pastille */
    display: flex;
    align-items: center;
    padding: 24px 24px;         /* épaisseur desktop */
    border-radius: 20px;
  }

  /* La pastille 1/2/3 : centrée verticalement */
  .functioning__number {
    position: absolute;
    left: -12px;                /* débord desktop (ajuste +/-) */
    top: 50px;
    transform: translateY(-50%);/* centrage parfait */
    width: 24px;
    height: 24px;
    border-radius: 50%;
    display: grid;
    place-items: center;        /* centre le chiffre dans la bulle */
    font-size: 12px;
    line-height: 1;
  }

}
